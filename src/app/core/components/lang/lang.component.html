<mat-select class="min-w-28" [value]="lang().code" (selectionChange)="setLang($event.value)">
    <mat-select-trigger>
        <div class="flex w-full justify-end pr-2">
            <ng-container *ngTemplateOutlet="img; context: {$implicit: lang()}"></ng-container>
        </div>
    </mat-select-trigger>
    @for (lang of languages; track lang.code) {
        <mat-option [value]="lang.code">
            <ng-container *ngTemplateOutlet="img; context: {$implicit: lang}"></ng-container>
            <span>{{ lang.name }}</span>
        </mat-option>
    }
</mat-select>

<ng-template #img let-lang>
    <img class="max-h-8" [src]="'/public/flags/'+lang.code+'.svg'" alt="{{lang.name}}">
</ng-template>
